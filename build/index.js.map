{"version":3,"file":"index.js","mappings":"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","sources":["webpack://file-block-no-preview/./node_modules/@wordpress/icons/build-module/library/file.js","webpack://file-block-no-preview/./src/edit.js","webpack://file-block-no-preview/./src/save.js","webpack://file-block-no-preview/./node_modules/classnames/index.js","webpack://file-block-no-preview/external window [\"wp\",\"blob\"]","webpack://file-block-no-preview/external window [\"wp\",\"blockEditor\"]","webpack://file-block-no-preview/external window [\"wp\",\"blocks\"]","webpack://file-block-no-preview/external window [\"wp\",\"components\"]","webpack://file-block-no-preview/external window [\"wp\",\"compose\"]","webpack://file-block-no-preview/external window [\"wp\",\"coreData\"]","webpack://file-block-no-preview/external window [\"wp\",\"data\"]","webpack://file-block-no-preview/external window [\"wp\",\"element\"]","webpack://file-block-no-preview/external window [\"wp\",\"notices\"]","webpack://file-block-no-preview/external window [\"wp\",\"primitives\"]","webpack://file-block-no-preview/webpack/bootstrap","webpack://file-block-no-preview/webpack/runtime/compat get default export","webpack://file-block-no-preview/webpack/runtime/define property getters","webpack://file-block-no-preview/webpack/runtime/hasOwnProperty shorthand","webpack://file-block-no-preview/webpack/runtime/make namespace object","webpack://file-block-no-preview/./src/index.js"],"sourcesContent":["import { createElement } from \"@wordpress/element\";\n/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nconst file = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M19 6.2h-5.9l-.6-1.1c-.3-.7-1-1.1-1.8-1.1H5c-1.1 0-2 .9-2 2v11.8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8.2c0-1.1-.9-2-2-2zm.5 11.6c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h5.8c.2 0 .4.1.4.3l1 2H19c.3 0 .5.2.5.5v9.5z\"\n}));\nexport default file;\n//# sourceMappingURL=file.js.map","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { getBlobByURL, isBlobURL, revokeBlobURL } from '@wordpress/blob';\nimport {\n\t__unstableGetAnimateClassName as getAnimateClassName,\n\tToolbarButton,\n\tPanelBody,\n\tSelectControl,\n\tToggleControl,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tBlockControls,\n\tBlockIcon,\n\tMediaPlaceholder,\n\tMediaReplaceFlow,\n\tRichText,\n\tuseBlockProps,\n\tInspectorControls,\n\tstore as blockEditorStore,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { file as icon } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\n\nfunction FileBlockInspector( {\n\threfs,\n\topenInNewWindow,\n\tshowDownloadButton,\n\tchangeLinkDestinationOption,\n\tchangeOpenInNewWindow,\n\tchangeShowDownloadButton,\n} ) {\n\tconst { href, textLinkHref, attachmentPage } = hrefs;\n\n\tlet linkDestinationOptions = [ { value: href, label: 'URL' } ];\n\tif ( attachmentPage ) {\n\t\tlinkDestinationOptions = [\n\t\t\t{ value: href, label: 'Media file' },\n\t\t\t{ value: attachmentPage, label: 'Attachment page' },\n\t\t];\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ 'Settings' }>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ 'Link to' }\n\t\t\t\t\t\tvalue={ textLinkHref }\n\t\t\t\t\t\toptions={ linkDestinationOptions }\n\t\t\t\t\t\tonChange={ changeLinkDestinationOption }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ 'Open in new tab' }\n\t\t\t\t\t\tchecked={ openInNewWindow }\n\t\t\t\t\t\tonChange={ changeOpenInNewWindow }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ 'Show download button' }\n\t\t\t\t\t\tchecked={ showDownloadButton }\n\t\t\t\t\t\tonChange={ changeShowDownloadButton }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n}\nfunction ClipboardToolbarButton( { text, disabled } ) {\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst ref = useCopyToClipboard( text, () => {\n\t\tcreateNotice( 'info', 'Copied URL to clipboard.', {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t} );\n\n\treturn (\n\t\t<ToolbarButton\n\t\t\tclassName=\"components-clipboard-toolbar-button\"\n\t\t\tref={ ref }\n\t\t\tdisabled={ disabled }\n\t\t>\n\t\t\t{ 'Copy URL' }\n\t\t</ToolbarButton>\n\t);\n}\n\nfunction FileEdit( { attributes, setAttributes, clientId } ) {\n\tconst {\n\t\tid,\n\t\tfileId,\n\t\tfileName,\n\t\thref,\n\t\ttextLinkHref,\n\t\ttextLinkTarget,\n\t\tshowDownloadButton,\n\t\tdownloadButtonText,\n\t} = attributes;\n\tconst { media, mediaUpload } = useSelect(\n\t\t( select ) => ( {\n\t\t\tmedia:\n\t\t\t\tid === undefined\n\t\t\t\t\t? undefined\n\t\t\t\t\t: select( coreStore ).getMedia( id ),\n\t\t\tmediaUpload: select( blockEditorStore ).getSettings().mediaUpload,\n\t\t} ),\n\t\t[ id ]\n\t);\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst { __unstableMarkNextChangeAsNotPersistent } = useDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\t// Upload a file drag-and-dropped into the editor.\n\t\tif ( isBlobURL( href ) ) {\n\t\t\tconst file = getBlobByURL( href );\n\n\t\t\tmediaUpload( {\n\t\t\t\tfilesList: [ file ],\n\t\t\t\tonFileChange: ( [ newMedia ] ) => onSelectFile( newMedia ),\n\t\t\t\tonError: onUploadError,\n\t\t\t} );\n\n\t\t\trevokeBlobURL( href );\n\t\t}\n\n\t\tif ( downloadButtonText === undefined ) {\n\t\t\tchangeDownloadButtonText( 'Download' );\n\t\t}\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( ! fileId && href ) {\n\t\t\t// Add a unique fileId to each file block.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( { fileId: `wp-block-file--media-${ clientId }` } );\n\t\t}\n\t}, [ href, fileId, clientId ] );\n\n\tfunction onSelectFile( newMedia ) {\n\t\tif ( newMedia && newMedia.url ) {\n\t\t\tsetAttributes( {\n\t\t\t\thref: newMedia.url,\n\t\t\t\tfileName: newMedia.title,\n\t\t\t\ttextLinkHref: newMedia.url,\n\t\t\t\tid: newMedia.id,\n\t\t\t} );\n\t\t}\n\t}\n\n\tfunction onUploadError( message ) {\n\t\tsetAttributes( { href: undefined } );\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t}\n\n\tfunction changeLinkDestinationOption( newHref ) {\n\t\t// Choose Media File or Attachment Page (when file is in Media Library).\n\t\tsetAttributes( { textLinkHref: newHref } );\n\t}\n\n\tfunction changeOpenInNewWindow( newValue ) {\n\t\tsetAttributes( {\n\t\t\ttextLinkTarget: newValue ? '_blank' : false,\n\t\t} );\n\t}\n\n\tfunction changeShowDownloadButton( newValue ) {\n\t\tsetAttributes( { showDownloadButton: newValue } );\n\t}\n\n\tfunction changeDownloadButtonText( newValue ) {\n\t\t// Remove anchor tags from button text content.\n\t\tsetAttributes( {\n\t\t\tdownloadButtonText: newValue.replace( /<\\/?a[^>]*>/g, '' ),\n\t\t} );\n\t}\n\n\tconst attachmentPage = media && media.link;\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames(\n\t\t\tisBlobURL( href ) && getAnimateClassName( { type: 'loading' } ),\n\t\t\t{\n\t\t\t\t'is-transient': isBlobURL( href ),\n\t\t\t}\n\t\t),\n\t} );\n\n\tif ( ! href ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\n\t\t\t\t\tlabels={ {\n\t\t\t\t\t\ttitle: 'File',\n\t\t\t\t\t\tinstructions: 'Upload a file or pick one from your media library.',\n\t\t\t\t\t} }\n\t\t\t\t\tonSelect={ onSelectFile }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\taccept=\"*\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<FileBlockInspector\n\t\t\t\threfs={ { href, textLinkHref, attachmentPage } }\n\t\t\t\t{ ...{\n\t\t\t\t\topenInNewWindow: !! textLinkTarget,\n\t\t\t\t\tshowDownloadButton,\n\t\t\t\t\tchangeLinkDestinationOption,\n\t\t\t\t\tchangeOpenInNewWindow,\n\t\t\t\t\tchangeShowDownloadButton\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<BlockControls group=\"other\">\n\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\tmediaId={ id }\n\t\t\t\t\tmediaURL={ href }\n\t\t\t\t\taccept=\"*\"\n\t\t\t\t\tonSelect={ onSelectFile }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t/>\n\t\t\t\t<ClipboardToolbarButton\n\t\t\t\t\ttext={ href }\n\t\t\t\t\tdisabled={ isBlobURL( href ) }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<div className={ 'wp-block-file__content-wrapper' }>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"a\"\n\t\t\t\t\t\tvalue={ fileName }\n\t\t\t\t\t\tplaceholder={ 'Write file name…' }\n\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\tonChange={ ( text ) =>\n\t\t\t\t\t\t\tsetAttributes( { fileName: text } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\thref={ textLinkHref }\n\t\t\t\t\t/>\n\t\t\t\t\t{ showDownloadButton && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'wp-block-file__button-richtext-wrapper'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ /* Using RichText here instead of PlainText so that it can be styled like a button. */ }\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"div\" // Must be block-level or else cursor disappears.\n\t\t\t\t\t\t\t\taria-label={ 'Download button text' }\n\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t'wp-block-file__button',\n\t\t\t\t\t\t\t\t\t__experimentalGetElementClassName(\n\t\t\t\t\t\t\t\t\t\t'button'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ downloadButtonText }\n\t\t\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\t\t\tplaceholder={ 'Add text…' }\n\t\t\t\t\t\t\t\tonChange={ ( text ) =>\n\t\t\t\t\t\t\t\t\tchangeDownloadButtonText( text )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default FileEdit;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\thref,\n\t\tfileId,\n\t\tfileName,\n\t\ttextLinkHref,\n\t\ttextLinkTarget,\n\t\tshowDownloadButton,\n\t\tdownloadButtonText,\n\t} = attributes;\n\n\t// Only output an `aria-describedby` when the element it's referring to is\n\t// actually rendered.\n\tconst describedById = RichText.isEmpty( fileName ) ? fileId : undefined;\n\n\treturn (\n\t\thref && (\n\t\t\t<div { ...useBlockProps.save() }>\n\t\t\t\t<a\n\t\t\t\t\tid={ describedById }\n\t\t\t\t\thref={ textLinkHref }\n\t\t\t\t\ttarget={ textLinkTarget }\n\t\t\t\t\trel={\n\t\t\t\t\t\ttextLinkTarget ? 'noreferrer noopener' : undefined\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<RichText.Content value={ fileName } />\n\t\t\t\t</a>\n\t\t\t\t{ showDownloadButton && (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={ href }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'wp-block-file__button',\n\t\t\t\t\t\t\t__experimentalGetElementClassName( 'button' )\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tdownload={ true }\n\t\t\t\t\t\taria-describedby={ describedById }\n\t\t\t\t\t>\n\t\t\t\t\t\t<RichText.Content value={ downloadButtonText } />\n\t\t\t\t\t</a>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t)\n\t);\n}\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","module.exports = window[\"wp\"][\"blob\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"primitives\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport Save from './save';\nimport metadata from './block.json';\n\nregisterBlockType( metadata.name, {\n\tedit: Edit,\n\tsave: Save\n} );\n"],"names":["classnames","getBlobByURL","isBlobURL","revokeBlobURL","__unstableGetAnimateClassName","getAnimateClassName","ToolbarButton","PanelBody","SelectControl","ToggleControl","useSelect","useDispatch","BlockControls","BlockIcon","MediaPlaceholder","MediaReplaceFlow","RichText","useBlockProps","InspectorControls","store","blockEditorStore","__experimentalGetElementClassName","useEffect","useCopyToClipboard","file","icon","coreStore","noticesStore","FileBlockInspector","hrefs","openInNewWindow","showDownloadButton","changeLinkDestinationOption","changeOpenInNewWindow","changeShowDownloadButton","href","textLinkHref","attachmentPage","linkDestinationOptions","value","label","createElement","Fragment","title","__nextHasNoMarginBottom","options","onChange","checked","ClipboardToolbarButton","text","disabled","createNotice","ref","isDismissible","type","className","FileEdit","attributes","setAttributes","clientId","id","fileId","fileName","textLinkTarget","downloadButtonText","media","mediaUpload","select","undefined","getMedia","getSettings","createErrorNotice","__unstableMarkNextChangeAsNotPersistent","filesList","onFileChange","newMedia","onSelectFile","onError","onUploadError","changeDownloadButtonText","url","message","newHref","newValue","replace","link","blockProps","labels","instructions","onSelect","accept","group","mediaId","mediaURL","tagName","placeholder","withoutInteractiveFormatting","save","describedById","isEmpty","target","rel","Content","download","registerBlockType","Edit","Save","metadata","name","edit"],"sourceRoot":""}